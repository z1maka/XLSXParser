(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/server.743fdc7d.png"},16:function(e,t){},21:function(e,t,a){e.exports=a.p+"static/media/bounce.781f2637.png"},24:function(e,t,a){e.exports=a(45)},29:function(e,t,a){},31:function(e,t,a){},37:function(e,t){},38:function(e,t){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),i=a.n(r),c=(a(29),a(2)),l=a.n(c),o=a(5),m=a(23),p=a(20),u=a(6),h=a(7),d=a(9),v=a(8),f=(a(31),a(21)),E=a.n(f),N=a(4),g=a.n(N),I=a(10),b=a.n(I),y=[],S=[],w=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={filterValue:"",data:[],notFoundIP:[],sort:!1,repeatIp:[]},e.showContent=function(){return e.state.data.map((function(e,t){return s.a.createElement("div",{key:e.server,className:"sheet-item".concat(e.marked?" marked":"")},s.a.createElement("div",{className:"sheet-server"},s.a.createElement("p",{className:"index"},"".concat(t+1)),s.a.createElement("p",{className:"sheet-server-value"},e.server)),s.a.createElement("div",{className:"sheet-server-name"},s.a.createElement("p",{className:"sheet-server-value"},e.name)),s.a.createElement("div",{className:"sheet-server-name"},s.a.createElement("p",{className:"sheet-server-value"},e.coast?e.coast:"Not found")),e.marked&&s.a.createElement("div",{className:"sheet-server-name"},s.a.createElement("p",{className:"sheet-server-value"},"Repited")))}))},e.handleChange=function(t){var a=y.filter((function(e){return e.server.includes(t.target.value)}));e.setState({data:a})},e.showRepitedInvoice=function(){return e.state.repeatIp.map((function(e,t){return s.a.createElement("div",{key:t,className:"sheet-item"},s.a.createElement("div",{className:"sheet-server"},s.a.createElement("img",{className:"sheet-server-img",src:b.a,alt:"icon"}),s.a.createElement("p",{className:"sheet-server-value"},e)))}))},e.showNotFound=function(){return e.state.notFoundIP.map((function(e,t){return s.a.createElement("div",{key:t,className:"sheet-item"},s.a.createElement("div",{className:"sheet-server"},s.a.createElement("img",{className:"sheet-server-img",src:b.a,alt:"icon"}),s.a.createElement("p",{className:"sheet-server-value"},e)))}))},e.handleSortClick=function(){if(e.state.sort){var t=[];e.props.invoice.ips.map((function(a){if(e.props.sheet[a]){var n={server:a,name:e.props.sheet[a].name?e.props.sheet[a].name:null,coast:e.props.sheet[a].coast?e.props.sheet[a].coast:null};t.push(n)}e.setState({data:t,sort:!1})}))}else{var a=y.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));e.setState({data:a,sort:!0})}},e.showRepitedSheet=function(){return e.props.repited.map((function(e,t){return s.a.createElement("div",{key:t,className:"sheet-item"},s.a.createElement("div",{className:"sheet-server"},s.a.createElement("img",{className:"sheet-server-img",src:b.a,alt:"icon"}),s.a.createElement("p",{className:"sheet-server-value"},e)))}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.invoice.ips.map((function(e){if(t.props.sheet[e]){var a={server:e,name:t.props.sheet[e].name?t.props.sheet[e].name:null,coast:t.props.sheet[e].coast?t.props.sheet[e].coast:null,marked:t.props.repited.includes(e)};y.push(a)}t.props.sheet[e]||t.props.repited.includes(e)||S.push(e)})),this.setState({data:y,notFoundIP:S,repeatIp:this.props.invoice.repeatingIps});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.notFoundIP,a=e.repeatIp,n=e.data;return s.a.createElement("div",{className:"container"},s.a.createElement("h2",{className:"container-header"},"Real Sheet"),s.a.createElement("h4",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0432 \u0422\u0430\u0431\u043b\u0438\u0447\u043a\u0435 ".concat(this.state.data.length)),s.a.createElement("div",{className:"ipsMenu"},s.a.createElement("div",{className:"not-found-ips"},s.a.createElement("h2",{className:"show-repeating"},"Repeating IP in Invoice"),a.length&&this.showRepitedInvoice()),s.a.createElement("div",{className:"not-found-ips"},s.a.createElement("h2",{className:"show-repeating"},"Repeating IP in SHEET"),this.props.repited.length&&this.showRepitedSheet()),s.a.createElement("div",{className:"not-found-ips"},s.a.createElement("h2",{className:"show-repeating"},"Not Found IP from Invoice"),t.length&&this.showNotFound())),s.a.createElement("div",{className:"filter-section"},s.a.createElement("label",{className:"filter-label",htmlFor:"filter"},"Filter by IP"),s.a.createElement("input",{className:"fileInput",onChange:this.handleChange,id:"filter",placeholder:"enter the Ip",type:"text"}),s.a.createElement("button",{onClick:this.handleSortClick,className:"sort"},"Sort by Name")),s.a.createElement("div",{className:"sheet-container"},s.a.createElement("h2",null,"Invoices"),n&&this.showContent()))}}]),a}(s.a.Component),k=a(22),C=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={invoice:{ips:[],repeatingIps:[]},sheet:{},invoiceIps:null,sheets:null,error:null,loading:!1},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.files[0]))},e.parceInvice=function(t){var a=[],n=[],s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var s=g.a.read(t.target.result,{type:"buffer"}),r=s.SheetNames[0],i=s.Sheets[r],c=g.a.utils.sheet_to_json(i,{header:1});for(var l in c)c[l][4]&&c[l][4].indexOf("(")>-1&&function(){var e=c[l][4].split("(")[1].split(")")[0];a.includes(e)?(n.push(e),a.filter((function(t){return t!==e}))):a.push(e)}();e.setState({invoiceIps:{ips:a,repeatingIps:n}})}},e.parceSheet=function(t){var a={},n=[],s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var s,r=g.a.read(t.target.result,{type:"buffer"}),i=r.SheetNames,c=[],l=Object(m.a)(i);try{for(l.s();!(s=l.n()).done;){var o=s.value;c.push(r.Sheets[o])}}catch(E){l.e(E)}finally{l.f()}for(var p=[],u=0,h=c;u<h.length;u++){var d=h[u];p.push(g.a.utils.sheet_to_json(d,{header:1}))}for(var v in p)for(var f in p[v])e.state.invoiceIps.ips.includes(p[v][f][2])&&(a[p[v][f][2]]&&!n.includes(p[v][f][2])&&n.push(p[v][f][2]),a[p[v][f][2]]={coast:p[v][f][8],name:p[v][f][0],marked:n.includes(p[v][f][2])});e.setState({sheets:{ips:a,repeatingIps:n},loading:!1})}},e.handleSubmit=function(){var t=Object(o.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),t.next=4,e.parceInvice(e.state.invoice);case 4:return t.sent,t.next=7,e.parceSheet(e.state.sheet);case 7:t.sent;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=function(t){var a=t.state,n=t.label,r=t.id,i=t.name;return s.a.createElement("div",{className:"upload-section"},s.a.createElement("label",{className:"upload",htmlFor:r},n),s.a.createElement("input",{className:"fileInput",style:{display:"none"},onChange:e.handleChange,id:r,name:i,multiple:!0,type:"file"}),a.name&&s.a.createElement("div",{className:"invoice-description"},s.a.createElement("img",{className:"uploadImage",src:E.a,alt:"bounce"}),s.a.createElement("p",{className:"name-file"},a.name)))};return s.a.createElement("div",{className:"App"},s.a.createElement("form",{className:"formLoad"},s.a.createElement(t,{state:this.state.invoice,label:"Upload the Invoice here",name:"invoice",id:"raised-button-invoice"}),s.a.createElement(t,{state:this.state.sheet,label:"Upload the Sheet here",name:"sheet",id:"raised-button-file"})),s.a.createElement("button",{className:"myButton",onClick:this.handleSubmit},"Show Result"),this.state.loading&&s.a.createElement(k.a,{css:{display:"block",margin:" 0 auto",borderColor:"red"},sizeUnit:"px",size:20,color:"aquamarine",loading:this.state.loading}),this.state.invoiceIps&&this.state.sheets&&!this.state.loading&&s.a.createElement(w,{sheet:this.state.sheets.ips,repited:this.state.sheets.repeatingIps,invoice:this.state.invoiceIps}))}}]),a}(s.a.Component);i.a.render(s.a.createElement(C,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.a647d885.chunk.js.map